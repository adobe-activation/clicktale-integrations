<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Clicktale Configuration</title>
		<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet">
		<link href="style.css" rel="stylesheet">
	</head>
	<body>
  
		<div class="header">
			<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNTcwIDEyNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTcwIDEyNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+LnN0MHtmaWxsOiMzNjI5NkQ7fS5zdDF7b3BhY2l0eTowLjU7fS5zdDJ7Y2xpcC1wYXRoOnVybCgjU1ZHSURfMl8pO2ZpbGw6IzM2Mjk2RDt9PC9zdHlsZT48cGF0aCBjbGFzcz0ic3QwIiBkPSJNNjUuMywxMTMuMmMtMTAuMSwwLTE5LTItMjYuNy01LjljLTcuOC00LTEzLjktOS43LTE4LjMtMTcuMmMtNC40LTcuNS02LjYtMTYuMy02LjYtMjYuM2MwLTkuNSwyLjItMTguMSw2LjUtMjUuOGM0LjMtNy42LDEwLjUtMTMuNywxOC41LTE4LjFjOC00LjQsMTcuMy02LjYsMjcuOC02LjZjNS4zLDAsMTAuNywwLjcsMTYuMiwyLjFjNS41LDEuNCwxMC4yLDMuMywxNC4xLDUuN2wtMy4yLDE2LjVjLTkuMy00LjYtMTguMi02LjktMjYuOS02LjljLTYuMywwLTExLjksMS4zLTE2LjksNEM0NC43LDM3LjIsNDAuOSw0MSwzOCw0NmMtMi44LDQuOS00LjIsMTAuNy00LjIsMTcuNGMwLDEwLDMsMTcuOSw5LDIzLjdjNiw1LjgsMTQsOC44LDI0LjIsOC44YzQuNCwwLDkuMi0wLjYsMTQuMi0xLjljNS0xLjMsOS44LTMuMSwxNC4yLTUuNGwyLDE2LjljLTQuMywyLjUtOS4zLDQuNC0xNSw1LjhDNzYuOCwxMTIuNiw3MS4xLDExMy4yLDY1LjMsMTEzLjIiLz48cmVjdCB4PSIxMDkiIHk9IjguMiIgY2xhc3M9InN0MCIgd2lkdGg9IjE3LjgiIGhlaWdodD0iMTAzLjYiLz48cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTQ5LjQsMzMuNGMtMy4xLDAtNS42LTEtNy42LTNjLTItMi0zLTQuNS0zLTcuNGMwLTIuOSwxLTUuMywzLTcuM2MyLTIsNC41LTIuOSw3LjYtMi45YzMuMSwwLDUuNiwxLDcuNiwyLjljMiwyLDMsNC40LDMsNy4zYzAsMy0xLDUuNS0zLDcuNEMxNTUsMzIuNSwxNTIuNSwzMy40LDE0OS40LDMzLjQgTTE0MC42LDQ2LjdoMTcuOHY2NS4xaC0xNy44VjQ2Ljd6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTIwNC4zLDExMy41Yy03LjEsMC0xMy4zLTEuNC0xOC43LTQuMWMtNS40LTIuNy05LjYtNi42LTEyLjYtMTEuOGMtMy01LjEtNC41LTExLjEtNC41LTE4YzAtNi42LDEuNC0xMi42LDQuMy0xNy44YzIuOS01LjIsNy4xLTkuMywxMi41LTEyLjNjNS40LTMsMTEuNy00LjUsMTguOS00LjVjMy44LDAsNy43LDAuNCwxMS40LDEuM2MzLjgsMC45LDcsMiw5LjUsMy41TDIyMyw2NC45Yy01LjctMi43LTExLjQtNC4xLTE3LjEtNC4xYy02LDAtMTAuNywxLjctMTQuMyw1Yy0zLjUsMy4zLTUuMyw3LjgtNS4zLDEzLjRjMCw1LjgsMS44LDEwLjMsNS40LDEzLjZjMy42LDMuMyw4LjUsNC45LDE0LjcsNC45YzUuNSwwLDExLjQtMS4zLDE3LjgtNGwxLjgsMTQuNmMtMi43LDEuNi02LDIuOS05LjgsMy44QzIxMi4yLDExMywyMDguMywxMTMuNSwyMDQuMywxMTMuNSIvPjxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iMjM2LjMsOC4yIDI1NCw4LjIgMjU0LDcxIDI3Ny40LDQ2LjcgMjk5LjQsNDYuNyAyNzAuMiw3NS45IDMwNC4yLDExMS44IDI4MS4zLDExMS44IDI1NCw4Mi4yIDI1NCwxMTEuOCAyMzYuMywxMTEuOCAiLz48cG9seWdvbiBjbGFzcz0ic3QwIiBwb2ludHM9IjMxNSw2MS40IDMwMi40LDYxLjQgMzAyLjQsNDYuNyAzMTUsNDYuNyAzMTUsMjkuMSAzMzIuOCwyOS4xIDMzMi44LDQ2LjcgMzQ4LjMsNDYuNyAzNDguMyw2MS40IDMzMi44LDYxLjQgMzMyLjgsMTExLjggMzE1LDExMS44ICIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zODEsMTEzLjljLTUuNywwLTEwLjktMS40LTE1LjQtNC4yYy00LjYtMi44LTguMi02LjgtMTAuOC0xMi4xYy0yLjYtNS4yLTQtMTEuMy00LTE4LjFjMC02LjMsMS4zLTEyLjEsMy45LTE3LjNjMi42LTUuMiw2LjMtOS41LDExLjEtMTIuN2M0LjgtMy4yLDEwLjEtNC44LDE2LjEtNC44YzQuNCwwLDguNSwwLjksMTIuMSwyLjhjMy42LDEuOCw2LjUsNC40LDguNiw3LjdsMC4zLTguNGgxN3Y2NS4xaC0xN2wtMC4zLTguM2MtMi4yLDMuNC01LjIsNi04LjgsNy43QzM5MC4yLDExMywzODUuOSwxMTMuOSwzODEsMTEzLjkgTTM4NS45LDk4YzUsMCw5LjItMS43LDEyLjQtNS4yYzMuMi0zLjUsNC45LTgsNC45LTEzLjZjMC01LjUtMS42LTkuOS00LjgtMTMuNGMtMy4yLTMuNS03LjQtNS4yLTEyLjUtNS4yYy01LjEsMC05LjMsMS43LTEyLjUsNS4yYy0zLjIsMy41LTQuOCw4LTQuOCwxMy40YzAsNS41LDEuNiwxMC4xLDQuOSwxMy42QzM3Ni43LDk2LjMsMzgwLjksOTgsMzg1LjksOTgiLz48cmVjdCB4PSI0MzMuNyIgeT0iOC4yIiBjbGFzcz0ic3QwIiB3aWR0aD0iMTcuOCIgaGVpZ2h0PSIxMDMuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00OTkuNSwxMTMuOWMtNy42LDAtMTQuMi0xLjQtMTkuOS00LjFjLTUuNy0yLjctMTAuMS02LjctMTMuMi0xMmMtMy4yLTUuMi00LjctMTEuNC00LjctMTguNWMwLTYuNiwxLjQtMTIuNSw0LjEtMTcuN2MyLjctNS4yLDYuNi05LjQsMTEuNi0xMi40YzUtMywxMC45LTQuNSwxNy41LTQuNWM2LjEsMCwxMS41LDEuMywxNi4yLDMuOWM0LjYsMi42LDguMyw2LjMsMTAuOSwxMS4yYzIuNiw0LjksMy45LDEwLjYsMy45LDE3LjNjMCwyLjgtMC4yLDUuNC0wLjYsNy43aC00NS45YzIuMiw5LjcsOS42LDE0LjYsMjIuMSwxNC42YzMuOSwwLDcuNy0wLjQsMTEuNC0xLjJjMy43LTAuOCw3LjEtMiwxMC0zLjVsMS44LDEzLjljLTMuMSwxLjctNi44LDMtMTEuMyw0QzUwOSwxMTMuNCw1MDQuMywxMTMuOSw0OTkuNSwxMTMuOSBNNTA4LjgsNzIuM2MtMC40LTQuNS0xLjktOC00LjQtMTAuNGMtMi41LTIuNC01LjktMy42LTEwLTMuNmMtNC4xLDAtNy41LDEuMi0xMC4xLDMuNmMtMi42LDIuNC00LjMsNS45LTUuMSwxMC40SDUwOC44eiIvPjxnIGNsYXNzPSJzdDEiPjxnPjxkZWZzPjxyZWN0IGlkPSJTVkdJRF8xXyIgeD0iNTMxLjQiIHk9IjMyLjciIHdpZHRoPSIyOS42IiBoZWlnaHQ9IjI5Ii8+PC9kZWZzPjxjbGlwUGF0aCBpZD0iU1ZHSURfMl8iPjx1c2UgeGxpbms6aHJlZj0iI1NWR0lEXzFfIiAgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7Ii8+PC9jbGlwUGF0aD48cGF0aCBjbGFzcz0ic3QyIiBkPSJNNTQ2LjIsNjEuN2MtMi43LDAtNS4yLTAuNi03LjQtMS44Yy0yLjItMS4yLTQtMi45LTUuNC01LjJjLTEuMy0yLjItMi00LjctMi03LjVjMC0yLjcsMC42LTUuMSwxLjktNy4zczMtMy45LDUuMi01LjNjMi4yLTEuMyw0LjgtMiw3LjctMmMyLjcsMCw1LjIsMC42LDcuNCwxLjhjMi4yLDEuMiw0LDIuOSw1LjQsNS4xYzEuMywyLjIsMiw0LjgsMiw3LjZjMCwyLjctMC42LDUuMS0xLjgsNy4zYy0xLjIsMi4yLTMsMy45LTUuMiw1LjNDNTUxLjYsNjEuMSw1NDksNjEuNyw1NDYuMiw2MS43IE01NDYuMiw1OC41YzIuMSwwLDQtMC41LDUuNy0xLjRzMy4xLTIuMiw0LTRjMS0xLjcsMS41LTMuNywxLjUtNS45YzAtMi4xLTAuNS00LTEuNC01LjdjLTAuOS0xLjctMi4yLTMuMS00LTRjLTEuNy0xLTMuNy0xLjUtNS45LTEuNWMtMi4xLDAtNCwwLjUtNS43LDEuNHMtMy4xLDIuMi00LDRjLTEsMS43LTEuNSwzLjctMS41LDUuOWMwLDIuMSwwLjUsNCwxLjQsNS43YzAuOSwxLjcsMi4yLDMuMSw0LDRDNTQyLDU4LDU0My45LDU4LjUsNTQ2LjIsNTguNSBNNTQ2LjgsNTQuOGMtMi41LDAtNC41LTAuNy01LjktMmMtMS41LTEuNC0yLjItMy4yLTIuMi01LjZjMC0yLjMsMC44LTQuMiwyLjMtNS43YzEuNS0xLjUsMy41LTIuMiw1LjktMi4yYzAuOCwwLDEuNywwLjEsMi41LDAuM2MwLjksMC4yLDEuNSwwLjUsMi4xLDAuOGwtMC42LDMuOGMtMC42LTAuMi0xLjItMC40LTEuOS0wLjZjLTAuNy0wLjItMS4zLTAuMi0xLjgtMC4yYy0xLjEsMC0yLjEsMC4zLTIuOCwxYy0wLjcsMC43LTEuMSwxLjYtMS4xLDIuN2MwLDEuMiwwLjQsMi4xLDEuMSwyLjdjMC43LDAuNywxLjgsMSwzLDFjMSwwLDIuMi0wLjMsMy43LTAuOWwwLjYsMy44QzU1MC4zLDU0LjUsNTQ4LjYsNTQuOCw1NDYuOCw1NC44Ii8+PC9nPjwvZz48L3N2Zz4=">
		</div>

		<form>
			<div class="partition">
				<label>Partition Number</label>
				<div>
					<select required id="partition">
						<option value="">Please select your assigned partition</option>
						<option value="www">Partition 1</option>
						<option value="www02">Partition 2</option>
						<option value="www03">Partition 3</option>
						<option value="www04">Partition 4</option>
						<option value="www05">Partition 5</option>
						<option value="www06">Partition 6</option>
						<option value="www07">Partition 7</option>
						<option value="www08">Partition 8</option>
						<option value="www09">Partition 9</option>
						<option value="www10">Partition 10</option>
						<option value="www11">Partition 11</option>
						<option value="www12">Partition 12</option>
						<option value="www13">Partition 13</option>
						<option value="www14">Partition 14</option>
						<option value="www15">Partition 15</option>
						<option value="www16">Partition 16</option>
						<option value="www17">Partition 17</option>
						<option value="www18">Partition 18</option>
						<option value="www19">Partition 19</option>
						<option value="www20">Partition 10</option>
						<option value="www21">Partition 21</option>
						<option value="www22">Partition 22</option>
						<option value="www23">Partition 23</option>
						<option value="www24">Partition 24</option>
						<option value="www25">Partition 25</option>
						<option value="www26">Partition 26</option>
						<option value="www27">Partition 27</option>
						<option value="www28">Partition 28</option>
						<option value="www29">Partition 29</option>
						<option value="www30">Partition 30</option>
						<option value="www31">Partition 31</option>
						<option value="www32">Partition 32</option>
						<option value="www33">Partition 33</option>
						<option value="www34">Partition 34</option>
						<option value="www35">Partition 35</option>
						<option value="www36">Partition 36</option>
						<option value="www37">Partition 37</option>
						<option value="www38">Partition 38</option>
						<option value="www39">Partition 39</option>
						<option value="www40">Partition 40</option>
						<option value="www41">Partition 41</option>
						<option value="www42">Partition 42</option>
						<option value="www43">Partition 43</option>
						<option value="www44">Partition 44</option>
						<option value="www45">Partition 45</option>
						<option value="www46">Partition 46</option>
						<option value="www47">Partition 47</option>
						<option value="www48">Partition 48</option>
						<option value="www49">Partition 49</option>
						<option value="www50">Partition 50</option>				
						<option value="www51">Partition 51</option>
						<option value="www52">Partition 52</option>
						<option value="www53">Partition 53</option>
						<option value="www54">Partition 54</option>
						<option value="www55">Partition 55</option>
						<option value="www56">Partition 56</option>
						<option value="www57">Partition 57</option>
						<option value="www58">Partition 58</option>
						<option value="www59">Partition 59</option>
						<option value="www60">Partition 60</option>				
						<option value="www61">Partition 61</option>
						<option value="www62">Partition 62</option>
						<option value="www63">Partition 63</option>
						<option value="www64">Partition 64</option>
						<option value="www65">Partition 65</option>
						<option value="www66">Partition 66</option>
						<option value="www67">Partition 67</option>
						<option value="www68">Partition 68</option>
						<option value="www69">Partition 69</option>
						<option value="www70">Partition 70</option>				
						<option value="www71">Partition 71</option>
						<option value="www72">Partition 72</option>
						<option value="www73">Partition 73</option>
						<option value="www74">Partition 74</option>
						<option value="www75">Partition 75</option>
						<option value="www76">Partition 76</option>
						<option value="www77">Partition 77</option>
						<option value="www78">Partition 78</option>
						<option value="www79">Partition 79</option>
						<option value="www80">Partition 80</option>				
						<option value="www81">Partition 81</option>
						<option value="www82">Partition 82</option>
						<option value="www83">Partition 83</option>
						<option value="www84">Partition 84</option>
						<option value="www85">Partition 85</option>
						<option value="www86">Partition 86</option>
						<option value="www87">Partition 87</option>
						<option value="www88">Partition 88</option>
						<option value="www89">Partition 89</option>
						<option value="www90">Partition 90</option>				
						<option value="www91">Partition 91</option>
						<option value="www92">Partition 92</option>
						<option value="www93">Partition 93</option>
						<option value="www94">Partition 94</option>
						<option value="www95">Partition 95</option>
						<option value="www96">Partition 96</option>
						<option value="www97">Partition 97</option>
						<option value="www98">Partition 98</option>
						<option value="www99">Partition 99</option>
						<option value="www100">Partition 100</option>
					</select>
					<div id="partition_error" style="color:red; display:none">Please select your Clicktale partition.</div>
				</div>
			</div>

			<div class="more">
				<label>Please enter your Project GUID</label>
				<div>
					<input id="guid" />
				</div>
				<div id="guid_error" style="color:red; display:none">
					Please ensure the GUID is in a universally unique identifier format.<br /> Format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx
				</div>
			</div>
		</form>

		<script src="https://assets.adobedtm.com/activation/reactor/extensionbridge/extensionbridge.min.js"></script>
		<script>
		  window.extensionBridge.register({
			init: function(info) {
			  if (info.settings) {
				// TODO Populate form values from persisted settings.
        info.settings.partition ? document.querySelector('#partition [value="' + info.settings.partition + '"]').selected = true : '';
				document.getElementById('guid').value = (info.settings.guid) || '';
			  }
			},

			getSettings: function() {
			  // TODO Return settings object from form values.
        var select = document.getElementById('partition');
				return {
					partition: select.options[select.selectedIndex].value || '',
					guid: document.getElementById('guid').value || ''
				}
			},

			validate: function() {
			// TODO Return whether settings are valid
				//Ensure a partition was selected and the guid is valid
				var guidRegEx  = /^[0-9a-f]{8}-?[0-9a-f]{4}-?[0-5][0-9a-f]{3}-?[089ab][0-9a-f]{3}-?[0-9a-f]{12}$/i;
				var flag = true;
				if(partition.value === "") {
					document.getElementById('partition_error').style.display = "block";
					flag=false;
				}
				else {
					document.getElementById('partition_error').style.display = "none";
				}
				if(!(guidRegEx.test(guid.value))) {
					document.getElementById('guid_error').style.display = "block";
					flag=false;
				}
				else {
					document.getElementById('guid_error').style.display = "none";
				}
				return flag;
			}
		  });
		</script>	
	</body>
</html>
